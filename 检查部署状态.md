# 🔍 检查部署状态指南

## 📋 第1步：确认GitHub Secrets设置

在您的GitHub项目中：`Settings` → `Secrets and variables` → `Actions`

确保有这3个密钥：
```
✅ SERVER_HOST (您的服务器IP)
✅ SERVER_USER (通常是 root)  
✅ SERVER_PASSWORD (服务器登录密码)
```

## 🚀 第2步：手动触发部署

1. 进入GitHub项目 → **Actions** 标签
2. 在左侧找到 **"自动部署到服务器"** 工作流
3. 点击右侧的 **"Run workflow"** 按钮
4. 选择 **dev-mqtt** 分支，点击 **"Run workflow"**

## 📊 第3步：查看部署日志

点击运行中的任务，您应该看到类似这样的日志：
```
🚀 开始部署分支: dev-mqtt
📦 仓库地址: your-username/gin-vue-admin
✅ Docker 安装完成
📁 进入项目目录...
⏹️ 停止旧服务...
🔨 构建并启动新服务...
📊 检查服务状态:
🎉 部署完成！
```

## 🌐 第4步：访问部署结果

部署成功后，在浏览器访问：

**前端页面**: `http://您的服务器IP`
**后端API**: `http://您的服务器IP:8888`

## 🐛 第5步：如果还是没效果

### 登录服务器检查：
```bash
# SSH登录服务器
ssh root@您的服务器IP

# 检查容器状态
sudo docker ps

# 查看部署目录
ls -la /opt/gin-vue-admin/

# 查看服务日志
cd /opt/gin-vue-admin
sudo docker-compose -f deploy/docker-compose.yml logs
```

### 常见问题：
- ❌ **看不到容器** → 部署失败，检查GitHub Actions日志
- ❌ **容器启动失败** → 查看 `docker logs 容器名`
- ❌ **网页打不开** → 检查服务器防火墙，确保开放80端口

## 💡 快速测试命令

```bash
# 测试前端是否可访问
curl http://您的服务器IP

# 测试后端API是否可访问  
curl http://您的服务器IP:8888/health
```

如果返回内容，说明部署成功！ 